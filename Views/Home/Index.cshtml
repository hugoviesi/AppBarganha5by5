@model AppBarganhaWEB.ViewsObject.HomeVO

<script src="~/js/site.js"></script>

<body>
    <nav class="navbar navbar-expand-sm bg-dark navbar-dark">
        <a class="navbar-brand">
            <img src="~/img/5by5.png" alt="logo" style="width:40px;">
        </a>

        <ul class="navbar-nav">
            <li class="nav-item">
                <a class="nav-link" @Html.ActionLink("Anunciar", "Index", "Anuncio")</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" @Html.ActionLink("Leilão", "Index", "Leilao")</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" @Html.ActionLink("Minhas Ofertas", "OfertasOfertante", "Oferta")</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" @Html.ActionLink("Perfil", "Perfil", "Usuario")</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" @Html.ActionLink("Desativar Conta", "Desativar", "Usuario")</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" @Html.ActionLink("Sair", "LogOut", "Login")</a>
            </li>
        </ul>
    </nav>

    <h1 style="text-align:center">&#128513 Seja bem-vindo, @Model.UsuarioLogado.Login &#128513</h1>
    <h2 style="text-align:center">Pontuação: @Model.UsuarioLogado.Pontuacao &#11088</h2>
    <h3 style="text-align:center">Novos anúncios: <span style="font-size:20px" id="noti"></span></h3>
    
    <div class="container">
        <h2>Seus Anuncios</h2>
        <p>Lista de anúncios feitos pelo usuário atualmente logado:</p>
        <table class="table">
            <thead class="thead-dark">
                <tr>
                    <th>Índice</th>
                    <th>Nome</th>
                    <th>Descrição</th>
                    <th>Data de Publicação</th>
                    <th>Data de Encerramento</th>
                    <th>Valor</th>
                    <th>Categorias</th>
                    <th>Foto</th>
                    <th>Ofertas</th>
                    <th>Situação</th>
                </tr>
            </thead>
            @{
                int count = 1;

                string nameModal = "Model";

                @foreach (var anuncio in Model.Anuncios)
                {

                    <tbody>
                        <tr>
                            <th scope="row">@count</th>
                            <td>@anuncio.Nome</td>
                            <td>@anuncio.Descricao</td>
                            <td>@anuncio.DataPublicacao.ToString("g")</td>
                            <td>@anuncio.DataFinal.ToString("g")</td>
                            <td>@anuncio.Valor</td>
                            <td>A FAZER</td>
                            <td>
                                <div class="container">
                                    <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#@nameModal@count">Imagem</button>
                                    <div class="modal" id="@nameModal@count">
                                        <div class="modal-dialog">
                                            <div class="modal-content">
                                                <div class="modal-body">
                                                    <img src="~/img/@anuncio.Foto" width="250" height="250" />
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>0
                            </td>
                            <td>
                                <div class="d-flex py-2">
                                    <div class="col-md-10">
                                        @Html.ActionLink("Ofertas", "OfertasPorAnuncio", "Oferta", new { idAnuncio = anuncio.Id }, null)
                                    </div>
                                </div>
                            </td>
                            <td>@anuncio.Status</td>
                        </tr>
                    </tbody>
                    count++;
                }
            }
        </table>
    </div>
</body>




